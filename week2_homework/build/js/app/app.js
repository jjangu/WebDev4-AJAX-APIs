function initMap(){var e=new google.maps.LatLng(45.4408,12.3155);map=new google.maps.Map(document.getElementById("map"),{center:e,zoom:15});var a=document.getElementById("myQuery"),n=document.getElementById("mySubmit");n.addEventListener("click",function(){deleteMarkers(),request={location:e,radius:"500",query:a.value},service=new google.maps.places.PlacesService(map),service.textSearch(request,callback)})}function callback(e,a){if(a==google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<e.length;n++){var r=e[n];createMarker(r)}}function createMarker(e){var a={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},n=new google.maps.Marker({position:a,map:map,title:e.name,draggable:!1,animation:google.maps.Animation.DROP});markers.push(n);var r=new google.maps.InfoWindow({content:e.name});google.maps.event.addListener(n,"click",function(){isInfoWindowOpen(r)?r.close():r.open(map,n)})}function isInfoWindowOpen(e){var a=e.getMap();return null!==a&&"undefined"!=typeof a}function setMapOnAll(e){for(var a=0;a<markers.length;a++)markers[a].setMap(e)}function clearMarkers(){setMapOnAll(null)}function deleteMarkers(){clearMarkers(),markers=[]}var map,markers=[],service,request;